{% extends 'navbar/base.html' %}

{% block title %}Daftar Perawatan Hewan{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">Daftar Perawatan Hewan</h1>
    
    <div class="d-flex justify-content-between mb-3">
        <h3>Data Perawatan</h3>
        {% if user_role == 'dokter_hewan' %}
        <a href="{% url 'perawatan_hewan_create' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Create
        </a>
        {% endif %}
    </div>
    
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>ID Kunjungan</th>
                <th>ID Klien</th>
                <th>Nama Hewan</th>
                <th>Perawat Hewan</th>
                <th>Dokter Hewan</th>
                <th>Front Desk Officer</th>
                <th>Jenis Perawatan</th>
                <th>Catatan Medis</th>
                {% if user_role == 'dokter_hewan' %}
                <th>Action</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for perawatan in perawatan_list %}
            <tr>
                <td>{{ perawatan.id_kunjungan }}</td>
                <td>{{ perawatan.id_client }}</td>
                <td>{{ perawatan.nama_hewan }}</td>
                <td>{{ perawatan.perawat_hewan }}</td>
                <td>{{ perawatan.dokter_hewan }}</td>
                <td>{{ perawatan.front_desk_officer }}</td>
                <td>{{ perawatan.kode_jenis_perawatan }} - {{ perawatan.nama_jenis_perawatan }}</td>
                <td>{{ perawatan.catatan_medis|default:"-" }}</td>
                {% if user_role == 'dokter_hewan' %}
                <td>
                    <a href="{% url 'perawatan_hewan_update' perawatan.id_kunjungan %}" class="btn btn-sm btn-warning">
                        <i class="fas fa-edit"></i> Update
                    </a>
                    <a href="{% url 'perawatan_hewan_delete' perawatan.id_kunjungan %}" class="btn btn-sm btn-danger">
                        <i class="fas fa-trash"></i> Delete
                    </a>
                </td>
                {% endif %}
            </tr>
            {% empty %}
            <tr>
                <td colspan="9" class="text-center">Tidak ada data perawatan hewan.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}